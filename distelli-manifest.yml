bmcgehee/javabuilddeploy:

  Env:
    - CLASSPATH: 'target/*:lib/*'
    - JAVA_HOME: "/usr/local/jre"
    - JVM_ARGS: '"-Duser.timezone=UTC -Xmx128M -Xms128M"'
    - PORT: "8080"
    - ARGS: "$PORT"
    
  PreBuild:
    - echo "Beginning PreBuild"
    - echo "---set---"
    - set
    - echo "---pwd---"
    - pwd
    - echo "---ls---"
    - ls -l
    - echo "---ls2---"
    - ls -l src/com/example/app/*.java
    - echo "making target directory..."
    - mkdir -p target/classes

  Build:
    - echo "Beginning Build"
    - javac -cp $CLASSPATH src/com/example/app/*.java -d target/classes
    - jar -cf targetSimpleJavaApp.jar -C target/classes/ .
    - echo "---ls---"
    - ls -l
    - echo "---ls2---"
    - ls -l target
    - ls -l target/classes
    
  Exec:
    - exec $JAVA_HOME/bin/java -cp $CLASSPATH $JVM_ARGS com.example.app.SimpleJavaApp $ARGS

  PkgInclude:
    - target/*.jar
    - lib/*.jar
    
